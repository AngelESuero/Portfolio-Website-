---
import BaseLayout from '../layouts/BaseLayout.astro';
import profile from '../content/profile.json';
import { getCollection } from 'astro:content';
import ProjectCard from '../components/ProjectCard.astro';

const projects = (await getCollection('projects')).filter((p) => p.data.featured).slice(0, 5);
const sections = ['Music', 'Visual', 'Video', 'Newark', 'Scraps'];
---

<BaseLayout title="Angel Suero â€” Archive" description={profile.short_bio}>
  <section class="space-y-6">
    <p class="text-xs uppercase tracking-[0.2em] text-zinc-500">Timeline / Archive</p>
    <h1 class="max-w-3xl font-display text-4xl font-bold md:text-6xl">{profile.name} <span class="text-accent">(a_e.s_)</span></h1>
    <p class="max-w-3xl text-lg">{profile.long_bio}</p>
    <div class="flex flex-wrap gap-2" aria-label="Identity chips">
      {profile.roles.map((role) => <span class="rounded-full border border-zinc-400 px-3 py-1 text-sm dark:border-zinc-600">{role}</span>)}
    </div>
  </section>

  <section class="mt-10">
    <h2 class="font-display text-2xl">Featured Threads</h2>
    <div class="mt-4 flex gap-4 overflow-x-auto pb-2 md:grid md:grid-cols-3 md:overflow-visible">
      {projects.map((project) => <ProjectCard project={project} />)}
    </div>
  </section>

  <section class="mt-10">
    <h2 class="font-display text-2xl">Sections</h2>
    <div class="mt-3 flex flex-wrap gap-2">
      {sections.map((section) => <span class="rounded border border-zinc-400 px-2 py-1 text-sm dark:border-zinc-600">{section}</span>)}
    </div>
  </section>
</BaseLayout>
