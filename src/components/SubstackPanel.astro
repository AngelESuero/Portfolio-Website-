---
const SUBSTACK_PROFILE = 'https://substack.com/@aesu';
interface Props {
  secondaryHref?: string;
  secondaryLabel?: string;
}

const { secondaryHref = '/writing#writing-list', secondaryLabel = 'Browse site writings' } = Astro.props;
---

<section class="panel" id="substack">
  <div class="stack">
    <h2>Writing</h2>
    <p class="muted">Essays + notes on Substack.</p>

    <div class="row">
      <a class="btn" href={SUBSTACK_PROFILE} target="_blank" rel="noopener">Open Substack</a>
      <a class="btn ghost" href={secondaryHref}>{secondaryLabel}</a>
    </div>

    <!-- OPTIONAL: paste your Substack “embed signup form” code here -->
    <!-- (Get it from Substack settings -> embeds) -->
  </div>
</section>

<style>
  .panel {
    margin-top: 1.4rem;
    border: 1px solid var(--line);
    border-radius: var(--radius);
    background: var(--panel);
    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.04) inset;
    padding: 1rem;
  }

  .stack {
    display: grid;
    gap: 0.55rem;
  }

  .stack h2 {
    margin: 0;
    font-size: 1.2rem;
  }

  .muted {
    margin: 0;
    color: var(--tone-muted);
  }

  .row {
    margin-top: 0.35rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.55rem;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    border: 1px solid var(--line);
    border-radius: 999px;
    background: rgba(10, 14, 22, 0.62);
    color: var(--tone-text);
    text-decoration: none;
    padding: 0.4rem 0.74rem;
    font-size: 0.84rem;
    transition: border-color 180ms ease, color 180ms ease;
  }

  .btn:hover,
  .btn:focus-visible {
    border-color: color-mix(in srgb, var(--accent2) 30%, var(--line));
  }

  .btn.ghost {
    background: transparent;
    color: var(--tone-muted);
  }

  .btn.ghost:hover,
  .btn.ghost:focus-visible {
    color: var(--tone-text);
  }
</style>
