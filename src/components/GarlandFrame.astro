---
const topLeaves = Array.from({ length: 40 }, (_, i) => ({
  x: 1.8 + i * 2.45,
  rot: i % 2 === 0 ? 36 : -42,
  scale: 0.98 + (i % 5) * 0.04
}));

const bottomLeaves = Array.from({ length: 38 }, (_, i) => ({
  x: 2.1 + i * 2.5,
  rot: i % 2 === 0 ? -32 : 38,
  scale: 0.96 + (i % 4) * 0.045
}));

const sideLeaves = Array.from({ length: 24 }, (_, i) => ({
  y: 2.5 + i * 4.1,
  leftRot: i % 2 === 0 ? 44 : 18,
  rightRot: i % 2 === 0 ? -44 : -18,
  scale: 0.96 + (i % 4) * 0.04
}));

const vineBranches = Array.from({ length: 18 }, (_, i) => ({
  y: 4 + i * 5.1,
  len: 16 + (i % 4) * 6,
  leftRot: i % 2 === 0 ? 32 : -24,
  rightRot: i % 2 === 0 ? -32 : 24
}));

const berriesTop = Array.from({ length: 14 }, (_, i) => ({
  x: 4 + i * 7.2,
  y: 30 + (i % 2 ? 4 : -2)
}));

const berriesBottom = Array.from({ length: 14 }, (_, i) => ({
  x: 3.5 + i * 7.4,
  y: 26 + (i % 2 ? 2 : -4)
}));

const lightsTop = Array.from({ length: 22 }, (_, i) => ({
  x: 4 + i * 4.3,
  drop: 18 + (i % 3) * 6,
  color: ['#ffd58e', '#ffc0b0', '#b9e4ff'][i % 3]
}));

const lightsBottom = Array.from({ length: 18 }, (_, i) => ({
  x: 5 + i * 5.1,
  drop: 14 + (i % 2) * 5,
  color: ['#ffd58e', '#b9e4ff', '#ffc0b0'][i % 3]
}));
---

<div class="garland-real" aria-hidden="true">
  <span class="wire wire-top"></span>
  <span class="wire wire-bottom"></span>
  <span class="wire wire-left"></span>
  <span class="wire wire-right"></span>

  <div class="leaf-track leaf-track-top">
    {topLeaves.map((leaf) => (
      <span class="leaf leaf-top" style={`--x:${leaf.x}%;--rot:${leaf.rot}deg;--s:${leaf.scale};`}></span>
    ))}
    {berriesTop.map((berry) => (
      <span class="berry berry-top" style={`--x:${berry.x}%;--y:${berry.y}px;`}></span>
    ))}
  </div>

  <div class="leaf-track leaf-track-bottom">
    {bottomLeaves.map((leaf) => (
      <span class="leaf leaf-bottom" style={`--x:${leaf.x}%;--rot:${leaf.rot}deg;--s:${leaf.scale};`}></span>
    ))}
    {berriesBottom.map((berry) => (
      <span class="berry berry-bottom" style={`--x:${berry.x}%;--y:${berry.y}px;`}></span>
    ))}
  </div>

  <div class="leaf-track leaf-track-left">
    {sideLeaves.map((leaf) => (
      <span class="leaf leaf-left" style={`--y:${leaf.y}%;--rot:${leaf.leftRot}deg;--s:${leaf.scale};`}></span>
    ))}
  </div>

  <div class="leaf-track leaf-track-right">
    {sideLeaves.map((leaf) => (
      <span class="leaf leaf-right" style={`--y:${leaf.y}%;--rot:${leaf.rightRot}deg;--s:${leaf.scale};`}></span>
    ))}
  </div>

  <div class="vine-lane vine-lane-left">
    <span class="vine-main vine-main-left"></span>
    {vineBranches.map((branch) => (
      <span
        class="vine-branch vine-branch-left"
        style={`--y:${branch.y}%;--len:${branch.len}px;--rot:${branch.leftRot}deg;`}
      ></span>
    ))}
  </div>

  <div class="vine-lane vine-lane-right">
    <span class="vine-main vine-main-right"></span>
    {vineBranches.map((branch) => (
      <span
        class="vine-branch vine-branch-right"
        style={`--y:${branch.y}%;--len:${branch.len}px;--rot:${branch.rightRot}deg;`}
      ></span>
    ))}
  </div>

  <div class="light-track light-track-top">
    {lightsTop.map((light) => (
      <span class="bulb" style={`--x:${light.x}%;--drop:${light.drop}px;--bulb:${light.color};`}></span>
    ))}
  </div>

  <div class="light-track light-track-bottom">
    {lightsBottom.map((light) => (
      <span class="bulb bulb-bottom" style={`--x:${light.x}%;--drop:${light.drop}px;--bulb:${light.color};`}></span>
    ))}
  </div>
</div>

<style>
  .garland-real {
    position: fixed;
    inset: 8px calc(var(--shell-gutter) - 14px) 8px;
    z-index: 0;
    pointer-events: none;
    opacity: 0.58;
    filter: saturate(0.75) brightness(0.84);
  }

  .wire {
    position: absolute;
    display: block;
    border-color: rgba(112, 142, 100, 0.44);
  }

  .wire-top,
  .wire-bottom {
    left: 2%;
    right: 2%;
    border-top: 3px solid rgba(112, 142, 100, 0.48);
    border-radius: 999px;
  }

  .wire-top {
    top: 8px;
  }

  .wire-bottom {
    bottom: 8px;
  }

  .wire-left,
  .wire-right {
    top: 18px;
    bottom: 18px;
    width: 0;
  }

  .wire-left {
    left: 3px;
    border-left: 3px solid rgba(112, 142, 100, 0.42);
  }

  .wire-right {
    right: 3px;
    border-right: 3px solid rgba(112, 142, 100, 0.42);
  }

  .leaf-track {
    position: absolute;
    z-index: 2;
  }

  .leaf-track-top,
  .leaf-track-bottom {
    opacity: 0.62;
  }

  .leaf-track-top {
    top: 2px;
    left: 2%;
    right: 2%;
    height: 64px;
  }

  .leaf-track-bottom {
    bottom: 1px;
    left: 2%;
    right: 2%;
    height: 62px;
  }

  .leaf-track-left,
  .leaf-track-right {
    top: 24px;
    bottom: 24px;
    width: 40px;
  }

  .leaf-track-left {
    left: -10px;
  }

  .leaf-track-right {
    right: -10px;
  }

  .leaf {
    position: absolute;
    width: 29px;
    height: 44px;
    border-radius: 70% 0 70% 0 / 80% 0 80% 0;
    background:
      linear-gradient(148deg, rgba(74, 122, 71, 0.95), rgba(28, 66, 35, 0.96) 62%, rgba(15, 46, 23, 0.98));
    box-shadow:
      inset 0 0 0 1px rgba(200, 255, 196, 0.14),
      0 3px 9px rgba(0, 0, 0, 0.38);
    transform-origin: center;
  }

  .leaf::after {
    content: '';
    position: absolute;
    left: 46%;
    top: 3px;
    bottom: 3px;
    width: 2px;
    background: rgba(210, 255, 200, 0.2);
    transform: rotate(8deg);
  }

  .leaf-top {
    left: var(--x);
    top: 6px;
    transform: translateX(-50%) rotate(var(--rot)) scale(var(--s));
  }

  .leaf-bottom {
    left: var(--x);
    bottom: 8px;
    transform: translateX(-50%) rotate(var(--rot)) scale(var(--s));
  }

  .leaf-left {
    top: var(--y);
    left: 0;
    transform: rotate(var(--rot)) scale(var(--s));
  }

  .leaf-right {
    top: var(--y);
    right: 0;
    transform: rotate(var(--rot)) scale(var(--s));
  }

  .vine-lane {
    position: absolute;
    top: 22px;
    bottom: 22px;
    width: 56px;
    z-index: 1;
    opacity: 0.72;
  }

  .vine-lane-left {
    left: -6px;
  }

  .vine-lane-right {
    right: -6px;
  }

  .vine-main {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 5px;
    border-radius: 999px;
    background: linear-gradient(180deg, rgba(34, 94, 44, 0.84), rgba(19, 57, 28, 0.86));
    box-shadow:
      0 0 0 1px rgba(188, 240, 180, 0.14),
      0 5px 16px rgba(0, 0, 0, 0.34);
  }

  .vine-main-left {
    left: 19px;
  }

  .vine-main-right {
    right: 19px;
  }

  .vine-branch {
    position: absolute;
    top: var(--y);
    width: var(--len);
    height: 3px;
    border-radius: 999px;
    background: linear-gradient(90deg, rgba(46, 110, 56, 0.9), rgba(22, 72, 33, 0.96));
    box-shadow: 0 0 0 1px rgba(194, 245, 186, 0.08);
  }

  .vine-branch::after {
    content: '';
    position: absolute;
    top: -7px;
    right: -6px;
    width: 13px;
    height: 20px;
    border-radius: 70% 0 70% 0 / 80% 0 80% 0;
    background: linear-gradient(148deg, rgba(88, 145, 86, 0.9), rgba(31, 78, 40, 0.94));
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.24);
    transform: rotate(28deg);
  }

  .vine-branch-left {
    left: 21px;
    transform-origin: left center;
    transform: rotate(var(--rot));
  }

  .vine-branch-right {
    right: 21px;
    transform-origin: right center;
    transform: rotate(var(--rot));
  }

  .vine-branch-right::after {
    right: auto;
    left: -6px;
    transform: rotate(-28deg) scaleX(-1);
  }

  .berry {
    position: absolute;
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: radial-gradient(circle at 32% 28%, #ffe2dc, #bc4d62 64%, #6f1f32);
    box-shadow: 0 0 9px rgba(210, 84, 114, 0.28);
  }

  .berry-top {
    left: var(--x);
    top: var(--y);
    transform: translateX(-50%);
  }

  .berry-bottom {
    left: var(--x);
    bottom: var(--y);
    transform: translateX(-50%);
  }

  .light-track {
    position: absolute;
    left: 2%;
    right: 2%;
    height: 52px;
  }

  .light-track-top {
    top: 8px;
    display: none;
  }

  .light-track-bottom {
    bottom: 8px;
    display: none;
  }

  .bulb {
    position: absolute;
    left: var(--x);
    top: 0;
    width: 3px;
    height: var(--drop);
    background: rgba(216, 206, 187, 0.48);
    transform: translateX(-50%);
  }

  .bulb-bottom {
    bottom: 0;
    top: auto;
    transform: translateX(-50%) scaleY(-1);
  }

  .bulb::after {
    content: '';
    position: absolute;
    top: calc(var(--drop) - 1px);
    left: 50%;
    width: 12px;
    height: 16px;
    transform: translateX(-50%);
    border-radius: 7px 7px 10px 10px;
    background:
      radial-gradient(circle at 32% 26%, rgba(255, 255, 255, 0.76), transparent 46%),
      var(--bulb);
    box-shadow:
      0 0 7px color-mix(in srgb, var(--bulb) 55%, transparent),
      0 0 15px color-mix(in srgb, var(--bulb) 28%, transparent);
  }

  @media (max-width: 860px) {
    .garland-real {
      inset: 6px 6px;
      opacity: 0.52;
    }

    .leaf {
      width: 23px;
      height: 35px;
    }

    .vine-lane {
      width: 38px;
      opacity: 0.58;
    }

    .vine-main-left {
      left: 13px;
      width: 4px;
    }

    .vine-main-right {
      right: 13px;
      width: 4px;
    }

    .vine-branch {
      width: calc(var(--len) - 4px);
    }

    .leaf-track-left .leaf:nth-child(2n),
    .leaf-track-right .leaf:nth-child(2n),
    .leaf-track-top .leaf:nth-child(2n),
    .leaf-track-bottom .leaf:nth-child(2n),
    .vine-lane .vine-branch:nth-child(2n),
    .light-track-top .bulb:nth-child(2n),
    .light-track-bottom .bulb:nth-child(2n) {
      display: none;
    }
  }
</style>
