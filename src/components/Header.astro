---
import profile from '../data/profile.json';
import LinkTabs from './LinkTabs.astro';
const nav = [
  ['Home', '/'],
  ['About', '/about'],
  ['Work', '/work'],
  ['Writing', '/writing'],
  ['Social', '/social'],
  ['AGI Timeline', '/agi'],
  ['Map', '/map'],
  ['Now', '/now'],
  ['Contact', '/contact']
];
---

<header class="sticky top-0 z-50 border-b border-zinc-300/60 bg-paper/90 backdrop-blur dark:border-zinc-700 dark:bg-zinc-950/90">
  <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-3">
    <a href="/" class="font-display text-lg font-bold tracking-tight">{profile.name} <span class="text-accent">/ a_e.s_</span></a>
    <nav aria-label="Main navigation" class="hidden gap-4 md:flex">
      {nav.map(([label, href]) => (
        <a href={href} class="text-sm hover:text-accent">{label}</a>
      ))}
    </nav>
    <button id="theme-toggle" aria-label="Toggle dark mode" class="rounded border border-zinc-400 px-3 py-1 text-sm dark:border-zinc-600">Theme</button>
  </div>
  <LinkTabs />
</header>

<script is:inline>
  const root = document.documentElement;
  const saved = localStorage.getItem('theme');
  if (saved === 'dark') root.classList.add('dark');
  document.getElementById('theme-toggle')?.addEventListener('click', () => {
    root.classList.toggle('dark');
    localStorage.setItem('theme', root.classList.contains('dark') ? 'dark' : 'light');
  });
</script>
