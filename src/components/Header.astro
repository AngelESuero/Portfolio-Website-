---
import LinkTabs from './LinkTabs.astro';
const nav = [
  ['Home', '/'],
  ['About', '/about'],
  ['Work', '/work'],
  ['Writing', '/writing'],
  ['Social', '/social'],
  ['AGI Timeline', '/agi'],
  ['Map', '/map'],
  ['Now', '/now'],
  ['Contact', '/contact']
];
---

<header class="site-header sticky top-0 z-50">
  <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-3">
    <a href="/" class="font-display text-lg font-bold tracking-tight text-accent">a_e.s_</a>
    <nav aria-label="Main navigation" class="hidden gap-4 md:flex">
      {nav.map(([label, href]) => (
        <a href={href} class="text-sm hover:text-accent">{label}</a>
      ))}
    </nav>
    <button id="theme-toggle" aria-label="Toggle dark mode" class="pill rounded px-3 py-1 text-sm">Theme</button>
  </div>
  <LinkTabs />
</header>

<script is:inline>
  const root = document.documentElement;
  const saved = localStorage.getItem('theme');
  if (saved === 'dark') root.classList.add('dark');
  document.getElementById('theme-toggle')?.addEventListener('click', () => {
    root.classList.toggle('dark');
    localStorage.setItem('theme', root.classList.contains('dark') ? 'dark' : 'light');
  });
</script>
